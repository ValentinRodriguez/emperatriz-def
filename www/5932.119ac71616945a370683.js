(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5932],{5932:(e,n,i)=>{"use strict";i.r(n),i.d(n,{ClientesPageModule:()=>I});var t=i(8583),o=i(3679),r=i(2859),a=i(3256),s=i(3018),l=i(5623),c=i(932),u=i(6202),Z=i(4762),g=i(5763),d=i(9768),p=i(9146);const m=["lista"];function f(e,n){if(1&e){const e=s.EpF();s.TgZ(0,"ion-searchbar",5),s.NdJ("ionChange",function(n){return s.CHM(e),s.oxw().buscarPedido(n)}),s.qZA()}}function h(e,n){1&e&&(s.TgZ(0,"div",6),s._UZ(1,"img",7),s.TgZ(2,"h4",8),s.TgZ(3,"strong"),s._uU(4,"NO HAY CLIENTES CREADOS!"),s.qZA(),s.qZA(),s._UZ(5,"br"),s.TgZ(6,"div",9),s.TgZ(7,"ion-button",10),s._uU(8,"Crear Cliente"),s.qZA(),s.qZA(),s.qZA())}function q(e,n){if(1&e){const e=s.EpF();s.TgZ(0,"mat-expansion-panel",14),s.TgZ(1,"mat-expansion-panel-header"),s.TgZ(2,"p"),s.TgZ(3,"strong"),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"ion-list"),s.TgZ(8,"div",15),s.TgZ(9,"ion-item-sliding",16),s.TgZ(10,"ion-item"),s.TgZ(11,"ion-label"),s.TgZ(12,"h2"),s.TgZ(13,"span"),s.TgZ(14,"strong"),s._uU(15,"Ciudad: "),s.qZA(),s._uU(16),s.qZA(),s.qZA(),s.TgZ(17,"h2"),s.TgZ(18,"span"),s.TgZ(19,"strong"),s._uU(20,"Calle: "),s.qZA(),s._uU(21),s.qZA(),s.qZA(),s.TgZ(22,"h2"),s.TgZ(23,"span"),s.TgZ(24,"strong"),s._uU(25,"Tel\xe9fono: "),s.qZA(),s._uU(26),s.qZA(),s.qZA(),s.TgZ(27,"h2"),s.TgZ(28,"span"),s.TgZ(29,"strong"),s._uU(30,"Email: "),s.qZA(),s._uU(31),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(32,"ion-item-options",17),s.TgZ(33,"ion-item-option",18),s.NdJ("click",function(){const n=s.CHM(e).$implicit;return s.oxw(2).borrarCliente(n.uid)}),s._UZ(34,"ion-icon",19),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=n.$implicit,i=n.index;s.xp6(4),s.lnq("",i+1,"-",e.first_name," ",e.last_name,""),s.xp6(2),s.Oqu(e.phone),s.xp6(10),s.Oqu(e.city),s.xp6(5),s.AsE("",e.address_1," ",e.address_2,""),s.xp6(5),s.Oqu(e.phone),s.xp6(5),s.Oqu(e.email)}}function A(e,n){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"mat-accordion"),s.YNc(2,q,35,9,"mat-expansion-panel",11),s.ALo(3,"filtro"),s.qZA(),s.TgZ(4,"ion-infinite-scroll",12),s.NdJ("ionInfinite",function(n){return s.CHM(e),s.oxw().misClientes(!1,n)}),s._UZ(5,"ion-infinite-scroll-content",13),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",s.gM2(3,2,e.clientes,e.textBuscar,"first_name","cliente")),s.xp6(2),s.Q6J("disabled",!e.habilitado)}}let _=(()=>{class e{constructor(e,n,i,t){this.clientesServ=e,this.modalCtrl=n,this.usuarioService=i,this.alertController=t,this.refrescador="pedidos",this.clientes=[],this.habilitado=!0,this.textBuscar="",this.existe=!1,this.src="assets/loading.gif"}ngOnInit(){this.usuario=this.usuarioService.getUsuario(),this.misClientes(!0)}borrarCliente(e,n){return(0,Z.mG)(this,void 0,void 0,function*(){const n=yield this.alertController.create({header:"Borrar cliente",mode:"ios",message:"<strong>Esta seguro de eliminar este cliente?</strong>!!!",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Borrar",handler:()=>{this.borrar(e)}}]});yield n.present()})}borrar(e){this.clientesServ.borrarCliente(e).subscribe(e=>{e.ok&&this.misClientes()})}doRefresh(e){this.clientes=[],this.existe=!1,this.misClientes(!0,e),this.habilitado=!0}misClientes(e=!1,n){this.clientesServ.getClientes(e).subscribe(e=>{0!==e.data.length&&e.ok&&this.clientes.push(...e.data),n&&(n.target.complete(),0===this.clientes.length&&(this.habilitado=!1))})}buscarPedido(e){return this.textBuscar=e.detail.value}formatPhoneNumber(e,n){let i=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return i?"("+i[1]+")"+i[2]+"-"+i[3]:n.phone_number}}return e.\u0275fac=function(n){return new(n||e)(s.Y36(c.$),s.Y36(r.IN),s.Y36(g.i),s.Y36(r.Br))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-listado-clientes"]],viewQuery:function(e,n){if(1&e&&s.Gf(m,5),2&e){let e;s.iGM(e=s.CRH())&&(n.lista=e.first)}},decls:7,vars:3,consts:[["placeholder","Buscar...",3,"ionChange",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles","refreshingText","Cargando..."],["class","empty-cart animate__animated animate__fadeIn animate__faster",4,"ngIf"],[4,"ngIf"],["placeholder","Buscar...",3,"ionChange"],[1,"empty-cart","animate__animated","animate__fadeIn","animate__faster"],["src","../../../assets/customer.svg","alt","",2,"width","200px"],[1,"text-muted","ion-text-center"],[1,"ion-text-center"],["color","primary","routerLink","/home","shape","round",1,"ion-text-uppercase"],["id","expansion",4,"ngFor","ngForOf"],["threshold","150px",3,"disabled","ionInfinite"],["loadingSpinner","crescent","loadingText","Cargando..."],["id","expansion"],[1,"pedidos"],["lines","none",1,"animated","fadeIn","fast"],["side","end"],["color","danger",3,"click"],["slot","icon-only","name","trash"]],template:function(e,n){1&e&&(s.YNc(0,f,1,0,"ion-searchbar",0),s._UZ(1,"br"),s.TgZ(2,"ion-content"),s.TgZ(3,"ion-refresher",1),s.NdJ("ionRefresh",function(e){return n.doRefresh(e)}),s._UZ(4,"ion-refresher-content",2),s.qZA(),s.YNc(5,h,9,0,"div",3),s.YNc(6,A,6,7,"div",4),s.qZA()),2&e&&(s.Q6J("ngIf",0!==n.clientes.length),s.xp6(5),s.Q6J("ngIf",0==n.clientes.length),s.xp6(1),s.Q6J("ngIf",0!==n.clientes.length))},directives:[t.O5,r.W2,r.nJ,r.Wo,r.VI,r.j9,r.YG,r.YI,d.pp,t.sg,r.ju,r.MB,d.ib,d.yz,r.q_,r.td,r.Ie,r.Q$,r.IK,r.u8,r.gu],pipes:[p.m],styles:[".empty-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:30% auto 0}"]}),e})();function T(e,n){1&e&&s._UZ(0,"app-listado-clientes")}function C(e,n){if(1&e){const e=s.EpF();s.TgZ(0,"form",6),s.NdJ("submit",function(){return s.CHM(e),s.oxw().crearCliente()}),s.TgZ(1,"ion-list",7),s.TgZ(2,"ion-item"),s.TgZ(3,"ion-label",8),s._uU(4,"Nombre "),s.TgZ(5,"ion-text",9),s._uU(6,"*"),s.qZA(),s.qZA(),s._UZ(7,"ion-input",10),s.qZA(),s.TgZ(8,"ion-item"),s.TgZ(9,"ion-label",8),s._uU(10,"Apellido "),s.TgZ(11,"ion-text",9),s._uU(12,"*"),s.qZA(),s.qZA(),s._UZ(13,"ion-input",11),s.qZA(),s.TgZ(14,"ion-item"),s.TgZ(15,"ion-label",8),s._uU(16,"Ciudad"),s.TgZ(17,"ion-text",9),s._uU(18,"*"),s.qZA(),s.qZA(),s._UZ(19,"ion-input",12),s.qZA(),s.TgZ(20,"ion-item"),s.TgZ(21,"ion-label",8),s._uU(22,"Calle"),s.TgZ(23,"ion-text",9),s._uU(24,"*"),s.qZA(),s.qZA(),s._UZ(25,"ion-input",13),s.qZA(),s.TgZ(26,"ion-item"),s.TgZ(27,"ion-label",8),s._uU(28,"Sector"),s.TgZ(29,"ion-text",9),s._uU(30,"*"),s.qZA(),s.qZA(),s._UZ(31,"ion-input",14),s.qZA(),s.TgZ(32,"ion-item"),s.TgZ(33,"ion-label",8),s._uU(34,"Telefono "),s.TgZ(35,"ion-text",9),s._uU(36,"*"),s.qZA(),s.qZA(),s._UZ(37,"ion-input",15),s.qZA(),s.TgZ(38,"ion-item"),s.TgZ(39,"ion-label",8),s._uU(40,"Email"),s.qZA(),s._UZ(41,"ion-input",16),s.qZA(),s.TgZ(42,"ion-item"),s.TgZ(43,"ion-label",8),s._uU(44,"Nota Adicional"),s.qZA(),s._UZ(45,"ion-textarea",17),s.qZA(),s.qZA(),s._UZ(46,"br"),s.TgZ(47,"div",18),s.TgZ(48,"ion-button",19),s._uU(49,"Guardar"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("formGroup",e.forma)}}const b=[{path:"",component:(()=>{class e{constructor(e,n){this.uiService=e,this.clienteService=n,this.pag=!0}ngOnInit(){this.forma=new o.cw({first_name:new o.NI("uiopioup",o.kI.required),last_name:new o.NI("uiopuiop",o.kI.required),city:new o.NI("dgdjghjfg",o.kI.required),address_1:new o.NI("ghj",o.kI.required),address_2:new o.NI("hjkhjk",o.kI.required),phone:new o.NI("456456456",o.kI.required),email:new o.NI("sdsfsdf"),desc:new o.NI("sdfsdfsdfsdf")})}crearCliente(){this.forma.invalid?this.uiService.alertaInformativa("Campos en blanco","Verifique que los campos NOMBRE, APELLIDO, TELEFONO Y DESCRIPCION no esten en blanco"):this.clienteService.crearCliente(this.forma.value).subscribe(e=>{e.ok&&this.uiService.alertaInformativaCerrar("Completado","Cliente agregado correctamente")})}updateSchedule(){this.pag=!this.pag}}return e.\u0275fac=function(n){return new(n||e)(s.Y36(l.y),s.Y36(c.$))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-clientes"]],decls:12,vars:2,consts:[["fullscreen",""],["value","all",3,"ionChange"],["value","all"],["value","favorites"],[4,"ngIf"],["novalidate","",3,"formGroup","submit",4,"ngIf"],["novalidate","",3,"formGroup","submit"],["lines","full",1,"ion-no-margin","ion-no-padding"],["position","floating"],["color","danger"],["type","text","formControlName","first_name"],["type","text","formControlName","last_name"],["position","floating","formControlName","city"],["formControlName","address_1"],["formControlName","address_2"],["formControlName","phone"],["formControlName","email"],["formControlName","desc"],[1,"ion-padding"],["expand","block","type","submit",1,"ion-no-margin"]],template:function(e,n){1&e&&(s.TgZ(0,"ion-content",0),s._UZ(1,"app-header-page"),s.TgZ(2,"ion-toolbar"),s.TgZ(3,"ion-segment",1),s.NdJ("ionChange",function(){return n.updateSchedule()}),s.TgZ(4,"ion-segment-button",2),s.TgZ(5,"ion-label"),s._uU(6,"Listado"),s.qZA(),s.qZA(),s.TgZ(7,"ion-segment-button",3),s.TgZ(8,"ion-label"),s._uU(9,"Crear"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,T,1,0,"app-listado-clientes",4),s.YNc(11,C,50,1,"form",5),s.qZA()),2&e&&(s.xp6(10),s.Q6J("ngIf",n.pag),s.xp6(1),s.Q6J("ngIf",!n.pag))},directives:[r.W2,u.S,r.sr,r.cJ,r.QI,r.GO,r.Q$,t.O5,_,o._Y,o.JL,o.sg,r.q_,r.Ie,r.yW,r.pK,r.j9,o.JJ,o.u,r.g2,r.YG],styles:[""]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(b)],a.Bz]}),e})();var U=i(5642);let I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[t.ez,o.u5,U.K,r.Pc,o.UX,x]]}),e})()},9146:(e,n,i)=>{"use strict";i.d(n,{m:()=>o});var t=i(3018);let o=(()=>{class e{transform(e,n,i,t=""){return""===n||void 0===n?e:e.filter(e=>""!==t?e[t][i].toLowerCase().includes(n):e[i].toLowerCase().includes(n))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"filtro",type:e,pure:!0}),e})()}}]);